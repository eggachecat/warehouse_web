
<div class="manage-partno"
     style="width: 40%; margin: auto; margin-top:40px;
            margin-bottom: 25px;
            border: 2px solid #3F51B5;">  

  <md-toolbar class="light-blue md-table-toolbar">
    <div class="md-toolbar-tools">
      <span>搜尋料號單</span>
      <span flex></span>
      <md-button class="md-success" ng-click="search()">
        搜尋
       </md-button>
    </div>
  </md-toolbar>
  <form name="partoNoSearchForm">
   <div layout-gt-xs="row" ng-repeat="idx in range(coulumnNum) track by $index">

      <md-input-container md-no-float>
        <md-select ng-model="columnName" ng-required="true" placeholder="搜索關鍵字">
          <md-option ng-repeat="(column, name) in columnMap" value="{{column}}">
            {{name}}
          </md-option>
        </md-select>
      </md-input-container>


      <md-input-container md-no-float class="md-block" flex-gt-sm="">
        <label></label>
        <input ng-model="searchObj[columnName]"  ng-required="true">
      </md-input-container>

    </div>
  </form>

  <div layout-gt-xs="row" style="margin-top: -25px;">
    <span flex></span>
    <md-button class="md-icon-button md-accent" md-accent aria-label="More"  ng-click="addColumn()">
     <md-icon md-svg-icon="./bower_components/ionicons/src/plus-round.svg"></md-icon>
    </md-button>
  </div>
  </div>

<div ng-repeat="result in results" ng-init="editable=false"
     style="width: 80%; margin: auto; margin-bottom: 25px;">
  <md-toolbar class="light-blue">
    <h2 class="md-toolbar-tools">
      <span>產品-{{result.reservbarcode}}</span>
      <span flex></span>
      <span>編輯</span>&nbsp;&nbsp;
      <md-switch class="md-success"  ng-model="editable" aria-label="Switch"></md-switch>
    </h2>
  </md-toolbar>


  <md-content layout-padding="" 
              style="border-width: 0px 2px 2px 2px; 
                     border-style: solid;
                     overflow: hidden;
                     border-color: #3F51B5;">
    <form name="userForm">

     <div layout-gt-xs="row">
        <md-input-container class="md-block" flex-gt-sm="">
          <label>品名</label>
          <input ng-model="result.itemname" ng-disabled="!editable" required>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm="">
          <label>條形碼</label>
          <input ng-model="result.reservbarcode" disabled="" required>
        </md-input-container>
      </div>

      <div layout-gt-xs="row">
        <md-input-container class="md-block" flex-gt-sm="">
          <label>場內料號</label>
          <input ng-model="result.internalpartno" ng-disabled="!editable" required>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm="">
          <label>客戶料號</label>
          <input ng-model="result.externalpartno" ng-disabled="!editable" required>
        </md-input-container>
      </div>

      <div layout-gt-xs="row"> 
        <md-input-container class="md-block" flex-gt-sm="">
          <label>備註</label>
          <input ng-model="result.note" required ng-disabled="!editable">
        </md-input-container>
      </div>

      <div layout="row" layout-sm="column" layout-align="end center" layout-wrap>
        <md-button class="md-raised" 
                    ng-disabled="(userForm.$invalid)">
          取消
        </md-button>
        <md-button  class="md-raised md-primary" 
                     ng-click="update(result)"
                     ng-disabled="(userForm.$invalid) || !editable">
                     更新
        </md-button>
    </div>

    </form>
  </md-content>
</div>
































<style type="text/css" media="screen">
.md-table-search-inbox{
  margin-bottom: 0px;
} 
.md-column {
  text-align: left !important;
}
.md-cell {
  text-align: left !important;
}
.manage-partno md-input-container {
  margin-bottom: 0px !important;
  margin-top: 10px !important;
}

</style>
